local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

-- UI Setup
local screengui = Instance.new("ScreenGui")
screengui.Name = "ItemUI"
screengui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("ScrollingFrame")
frame.Size = UDim2.new(0, 240, 0.7, 0)
frame.Position = UDim2.new(0.02, 0, 0.15, 0)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0
frame.CanvasSize = UDim2.new(0, 0, 5, 0)
frame.AutomaticCanvasSize = Enum.AutomaticSize.Y
frame.ScrollBarThickness = 6
frame.Parent = screengui

local layout = Instance.new("UIListLayout")
layout.Parent = frame
layout.Padding = UDim.new(0, 4)
layout.SortOrder = Enum.SortOrder.LayoutOrder

-- Utility: Get primary part
local function getPrimaryPart(model)
	if model.PrimaryPart then return model.PrimaryPart end
	for _, part in ipairs(model:GetChildren()) do
		if part:IsA("BasePart") then
			model.PrimaryPart = part
			return part
		end
	end
	return nil
end

-- Bring items to player
local function bringItems(name)
	local folder = workspace:FindFirstChild("Items")
	if not folder then return end

	local index = 0
	for _, model in folder:GetChildren() do
		if model:IsA("Model") and model.Name == name then
			local root = getPrimaryPart(model)
			if root then
				for _, part in ipairs(model:GetDescendants()) do
					if part:IsA("BasePart") then
						part.Anchored = false
						part.CanCollide = true
					end
				end
				local offset = hrp.CFrame.LookVector * (4 + index * 3)
				model:SetPrimaryPartCFrame(CFrame.new(hrp.Position + offset + Vector3.new(0, 1, 0)))
				index += 1
			end
		end
	end
end

-- Teleport player to all chests of a type
local function teleportToChests(name)
	local folder = workspace:FindFirstChild("Chests")
	if not folder then return end

	for _, model in folder:GetChildren() do
		if model:IsA("Model") and model.Name == name then
			local root = getPrimaryPart(model)
			if root then
				local oldCFrame = hrp.CFrame
				hrp.CFrame = root.CFrame + Vector3.new(0, 4, 0)
				task.wait(1.5)
				hrp.CFrame = oldCFrame
			end
		end
	end
end

-- Create a styled button
local function createButton(text, color, callback)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(1, -10, 0, 36)
	btn.BackgroundColor3 = color
	btn.Text = text
	btn.TextScaled = true
	btn.Font = Enum.Font.GothamBold
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.BorderSizePixel = 0
	btn.Parent = frame
	btn.MouseButton1Click:Connect(callback)
end

-- Items to bring
local items = {
	"Berry", "Bolt", "Broken Fan", "Carrot", "Chair", "Coal", "Coin Stack", "Log", "Item Chest", "Sheet Metal",
	"Good Sack", "Giant Sack", "Cake", "Old Flashlight", "Strong Flashlight", "Spear", "Morningstar", "Laser Sword",
	"Leather Body", "Iron Body", "Thorn Body", "Riot Shield", "Revolver", "Alien Armor", "Diamonds", "Laser Cannon",
	"Fuel Canister", "Oil Barrel", "UFO Junk", "UFO Component", "Broken Radio", "Broken Microwave", "Tyre", "Metal Chair",
	"Old Car Engine", "Washing Machine", "Cultist Experiment", "Cultist Prototype", "UFO Scrap", "Bunny Foot", "Wolf Pelt",
	"Alpha Wolf Pelt", "Bear Pelt", "Cultist Gem", "Bandage", "Medkit", "Rifle", "Rifle Ammo", "Revolver Ammo"
}

-- Chests to TP to
local chests = {
	"Common Chest", "Item Chest" , "Good Chest", "Iron Chest", "Legendary Chest",
	"Gold Chest", "Ruby Chest", "Diamond Chest", "Alien Chest"
}

-- Add item buttons (blue)
for _, item in ipairs(items) do
	createButton(item, Color3.fromRGB(40, 120, 200), function()
		bringItems(item)
	end)
end

-- Add chest buttons (green)
for _, chest in ipairs(chests) do
	createButton(chest, Color3.fromRGB(30, 180, 100), function()
		teleportToChests(chest)
	end)
end

-- Close button
local xButton = Instance.new("TextButton")
xButton.Size = UDim2.new(0, 30, 0, 30)
xButton.Position = UDim2.new(0.02, 215, 0.11, -35)
xButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
xButton.Text = "X"
xButton.TextScaled = true
xButton.Font = Enum.Font.GothamBold
xButton.TextColor3 = Color3.fromRGB(255, 255, 255)
xButton.Parent = screengui
xButton.ZIndex = 3

xButton.MouseButton1Click:Connect(function()
	frame.Visible = not frame.Visible
end)
